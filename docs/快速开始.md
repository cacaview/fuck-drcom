# 快速开始指南

## 🎯 目标

在5分钟内完成部署并开始使用 Dr.COM VPN 网络共享系统。

## 📋 准备工作

### 硬件要求

1. **服务器设备**（任选其一）：
   - 树莓派 / 开发板
   - 旧笔记本 / 台式机
   - NAS 设备
   - 云服务器（需在内网）

2. **客户端设备**：
   - Windows / macOS / Linux 电脑
   - Android / iOS 手机（需支持Flet）
   - OpenWrt 路由器

### 软件要求

- Python 3.7 或更高版本
- 互联网连接（用于安装依赖）

## ⚡ 三步部署

### 步骤 1: 安装依赖 (1分钟)

```bash
# 克隆或下载项目
cd drcom

# 安装Python依赖
pip install -r requirements.txt
```

### 步骤 2: 启动服务器 (2分钟)

在服务器设备上运行：

```bash
python vpn_server.py 你的用户名 你的密码 8888
```

**示例**：
```bash
python vpn_server.py MR646C80105795 mypassword 8888
```

**预期输出**：
```
============================================================
VPN服务器启动中...
============================================================
步骤1: 登录Dr.COM网络
第 1/5 次登录尝试
✓ 登录成功！服务器内网IP: 172.21.77.34
步骤2: 启动VPN服务，监听端口 8888
✓ VPN服务已启动
============================================================
服务器信息:
  内网IP: 172.21.77.34    <-- 记下这个IP
  监听端口: 8888
============================================================
```

✅ **记下服务器的内网IP地址**（例如 `172.21.77.34`）

### 步骤 3: 连接客户端 (2分钟)

#### 选项 A: 使用 GUI 客户端（推荐新手）

```bash
python vpn_client_gui.py
```

在弹出的窗口中填写：
1. Dr.COM 用户名：`你的用户名`
2. Dr.COM 密码：`你的密码`
3. 服务器内网IP：`172.21.77.34`（从步骤2获取）
4. 服务器端口：`8888`

点击 **"连接"** 按钮。

#### 选项 B: 使用命令行客户端

```bash
python vpn_client.py 你的用户名 你的密码 172.21.77.34 8888
```

**预期输出**：
```
============================================================
VPN客户端启动中...
============================================================
步骤1: 登录Dr.COM网络
✓ 登录成功！客户端内网IP: 172.21.88.45
步骤2: 尝试连接服务器 172.21.77.34:8888
第 1/10 次连接尝试...
✓ 成功连接到服务器！
步骤3: 向服务器报告客户端IP: 172.21.88.45
等待服务器重新登录网络...
✓ 服务器重新登录成功！
步骤4: 建立VPN连接
============================================================
✓ VPN连接已建立！
  客户端IP: 172.21.88.45
  服务器IP: 172.21.77.34
  现在可以通过服务器访问互联网
============================================================
```

## ✅ 验证连接

打开浏览器或在终端执行：

```bash
# Windows
ping www.bing.com

# Linux/macOS
ping -c 4 www.bing.com
```

如果能够 ping 通，说明连接成功！🎉

## 🔧 常见问题

### Q1: 提示 "登录失败"

**A**: 检查用户名和密码是否正确，确认账号未欠费。

### Q2: 提示 "无法连接到服务器"

**A**: 
1. 确认服务器正在运行
2. 检查服务器IP地址是否正确
3. 尝试在客户端 ping 服务器：`ping 172.21.77.34`

### Q3: 连接成功但无法上网

**A**: 
1. 查看服务器日志，确认服务器重新登录成功
2. 检查客户端网络配置

### Q4: Python 未安装或版本过低

**A**: 下载安装 Python 3.7+ from [python.org](https://www.python.org/downloads/)

## 🎓 进阶使用

完成快速开始后，建议阅读：

- **README.md** - 完整使用文档
- **config.py** - 配置说明
- **logs/** 目录 - 查看详细日志

## 💡 使用技巧

1. **后台运行服务器**：
   ```bash
   # Linux/macOS
   nohup python vpn_server.py username password 8888 &
   
   # Windows
   pythonw vpn_server.py username password 8888
   ```

2. **查看实时日志**：
   ```bash
   tail -f logs/vpn_server_20250101.log
   ```

3. **开机自启动**：参考 README.md 的"高级用法"章节

## 📞 需要帮助？

- 查看详细日志：`logs/` 目录
- 阅读完整文档：`README.md`
- 提交问题：GitHub Issues

---

祝使用愉快！🚀

